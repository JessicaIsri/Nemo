image: maven:3-jdk-11

services:
  - postgres:latest

variables:
  POSTGRES_DB: postgres
  POSTGRES_HOST: postgres
  POSTGRES_PORT: 5432
  POSTGRES_USER: postgres
  POSTGRES_PASSWORD: pg@123
  POSTGRES_HOST_AUTH_METHOD: trust

stages:
  - build
  - test

maven-build:
  stage: build
  script: "mvn -f nemo/pom.xml compile"

maven-test:
  stage: test
  script: "mvn -f nemo/pom.xml clean install"

